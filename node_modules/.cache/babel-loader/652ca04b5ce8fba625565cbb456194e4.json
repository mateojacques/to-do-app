{"ast":null,"code":"import _objectSpread from\"C:/Users/mateo/Documents/Ensolvers/to-do-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/mateo/Documents/Ensolvers/to-do-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/mateo/Documents/Ensolvers/to-do-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/mateo/Documents/Ensolvers/to-do-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/mateo/Documents/Ensolvers/to-do-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Header from\"./components/Header\";import Tasks from\"./components/Tasks\";import Folders from\"./components/Folders\";import{useState,useEffect}from\"react\";import Form from\"./components/Form\";import AltForm from\"./components/AltForm\";import{Route,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showForm=_useState2[0],setShowForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAltForm=_useState4[0],setShowAltForm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tasks=_useState6[0],setTasks=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),folders=_useState8[0],setFolders=_useState8[1];//TASK MANAGEMENT\nuseEffect(function(){var getTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tasksFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTasks();case 2:tasksFromServer=_context.sent;setTasks(tasksFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTasks(){return _ref.apply(this,arguments);};}();getTasks();},[]);var fetchTasks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/tasks\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchTasks(){return _ref2.apply(this,arguments);};}();var fetchTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id));case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchTask(_x){return _ref3.apply(this,arguments);};}();var deleteTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:\"DELETE\"});case 2:setTasks(tasks.filter(function(task){return task.id!==id;}));case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function deleteTask(_x2){return _ref4.apply(this,arguments);};}();var addTask=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(task){var res,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:5000/tasks\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(task)});case 2:res=_context5.sent;_context5.next=5;return res.json();case 5:data=_context5.sent;setTasks([].concat(_toConsumableArray(tasks),[data]));case 7:case\"end\":return _context5.stop();}}},_callee5);}));return function addTask(_x3){return _ref5.apply(this,arguments);};}();var editTask=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var today,taskToEdit,name,date,updTask,res,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:today=new Date();_context6.next=3;return fetchTask(id);case 3:taskToEdit=_context6.sent;name=prompt(\"Enter a new name for the task\");date=prompt(\"Enter a new date for the task\",\"\".concat(today.getFullYear(),\"-0\").concat(today.getMonth()+1,\"-\").concat(today.getDate()));updTask=_objectSpread(_objectSpread({},taskToEdit),{},{title:name,date:date});_context6.next=9;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(updTask)});case 9:res=_context6.sent;_context6.next=12;return res.json();case 12:data=_context6.sent;setTasks(tasks.map(function(task){return task.id===id?_objectSpread(_objectSpread({},task),{},{title:data.title,date:data.date}):task;}));case 14:case\"end\":return _context6.stop();}}},_callee6);}));return function editTask(_x4){return _ref6.apply(this,arguments);};}();var toggleCompleted=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var taskToToggle,updTask,res,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetchTask(id);case 2:taskToToggle=_context7.sent;updTask=_objectSpread(_objectSpread({},taskToToggle),{},{completed:!taskToToggle.completed});_context7.next=6;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(updTask)});case 6:res=_context7.sent;_context7.next=9;return res.json();case 9:data=_context7.sent;setTasks(tasks.map(function(task){return task.id===id?_objectSpread(_objectSpread({},task),{},{completed:data.completed}):task;}));case 11:case\"end\":return _context7.stop();}}},_callee7);}));return function toggleCompleted(_x5){return _ref7.apply(this,arguments);};}();//FOLDER MANAGEMENT\nuseEffect(function(){var getFolders=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var foldersFromServer;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return fetchFolders();case 2:foldersFromServer=_context8.sent;setFolders(foldersFromServer);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function getFolders(){return _ref8.apply(this,arguments);};}();getFolders();},[]);var fetchFolders=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var res,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return fetch(\"http://localhost:5000/folders\");case 2:res=_context9.sent;_context9.next=5;return res.json();case 5:data=_context9.sent;return _context9.abrupt(\"return\",data);case 7:case\"end\":return _context9.stop();}}},_callee9);}));return function fetchFolders(){return _ref9.apply(this,arguments);};}();var fetchFolder=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(id){var res,data;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return fetch(\"http://localhost:5000/folders/\".concat(id));case 2:res=_context10.sent;_context10.next=5;return res.json();case 5:data=_context10.sent;return _context10.abrupt(\"return\",data);case 7:case\"end\":return _context10.stop();}}},_callee10);}));return function fetchFolder(_x6){return _ref10.apply(this,arguments);};}();var addFolder=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(folder){var res,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return fetch(\"http://localhost:5000/folders\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(folder)});case 2:res=_context11.sent;_context11.next=5;return res.json();case 5:data=_context11.sent;setFolders([].concat(_toConsumableArray(folders),[data]));case 7:case\"end\":return _context11.stop();}}},_callee11);}));return function addFolder(_x7){return _ref11.apply(this,arguments);};}();var deleteFolder=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(id){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return fetch(\"http://localhost:5000/folders/\".concat(id),{method:\"DELETE\"});case 2:setFolders(folders.filter(function(folder){return folder.id!==id;}));case 3:case\"end\":return _context12.stop();}}},_callee12);}));return function deleteFolder(_x8){return _ref12.apply(this,arguments);};}();var editFolder=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(id){var folderToEdit,name,updFolder,res,data;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return fetchFolder(id);case 2:folderToEdit=_context13.sent;name=prompt(\"Enter a new name for the folder\");updFolder=_objectSpread(_objectSpread({},folderToEdit),{},{title:name});_context13.next=7;return fetch(\"http://localhost:5000/folders/\".concat(id),{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(updFolder)});case 7:res=_context13.sent;_context13.next=10;return res.json();case 10:data=_context13.sent;setFolders(folders.map(function(folder){return folder.id===id?_objectSpread(_objectSpread({},folder),{},{title:data.title}):folder;}));case 12:case\"end\":return _context13.stop();}}},_callee13);}));return function editFolder(_x9){return _ref13.apply(this,arguments);};}();//FORM CONTROL\nvar addType=function addType(){if(document.getElementsByTagName(\"select\").length===0){var header=document.getElementById(\"header\");var select=document.createElement(\"select\");select.className=\"select\";select.innerHTML=\"<option value=\\\"task\\\" selected>Task</option>\\n    <option value=\\\"folder\\\">Folder</option>\";header.append(select);select.addEventListener(\"change\",function(){if(select.value===\"task\"){setShowForm(!showForm);setShowAltForm(showAltForm);}else{setShowForm(showForm);setShowAltForm(!showAltForm);}});}else{select=document.querySelector(\".select\");}if(select.value===\"task\"){setShowForm(!showForm);}else{setShowAltForm(!showAltForm);}if(showForm||showAltForm){select.style.display=\"none\";}else{select.style.display=\"block\";}};var addForm=function addForm(){setShowForm(!showForm);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{onAdd:addType,showForm:showForm,showAltForm:showAltForm}),showForm&&/*#__PURE__*/_jsx(Form,{onAdd:addTask}),showAltForm&&/*#__PURE__*/_jsx(AltForm,{onAdd:addFolder}),folders.length>0&&/*#__PURE__*/_jsx(Folders,{folders:folders,onDelete:deleteFolder,onEdit:editFolder}),tasks.length>0?/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleCompleted,onEdit:editTask}):\"Add a task to start!\"]});}}),location.pathname!==\"/\"&&/*#__PURE__*/_jsx(Header,{onAdd:addForm,showForm:showForm}),location.pathname!==\"/\"&&showForm&&/*#__PURE__*/_jsx(Form,{onAdd:addTask}),location.pathname!==\"/\"&&/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleCompleted,onEdit:editTask})]});}export default App;","map":{"version":3,"sources":["C:/Users/mateo/Documents/Ensolvers/to-do-app/src/App.js"],"names":["Header","Tasks","Folders","useState","useEffect","Form","AltForm","Route","useLocation","App","location","showForm","setShowForm","showAltForm","setShowAltForm","tasks","setTasks","folders","setFolders","getTasks","fetchTasks","tasksFromServer","fetch","res","json","data","fetchTask","id","deleteTask","method","filter","task","addTask","headers","body","JSON","stringify","editTask","today","Date","taskToEdit","name","prompt","date","getFullYear","getMonth","getDate","updTask","title","map","toggleCompleted","taskToToggle","completed","getFolders","fetchFolders","foldersFromServer","fetchFolder","addFolder","folder","deleteFolder","editFolder","folderToEdit","updFolder","addType","document","getElementsByTagName","length","header","getElementById","select","createElement","className","innerHTML","append","addEventListener","value","querySelector","style","display","addForm","props","pathname"],"mappings":"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","sourcesContent":["import Header from \"./components/Header\";\nimport Tasks from \"./components/Tasks\";\nimport Folders from \"./components/Folders\";\nimport { useState, useEffect } from \"react\";\nimport Form from \"./components/Form\";\nimport AltForm from \"./components/AltForm\";\nimport { Route, useLocation } from \"react-router-dom\";\n\nfunction App() {\n  const location = useLocation();\n\n  const [showForm, setShowForm] = useState(false);\n  const [showAltForm, setShowAltForm] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [folders, setFolders] = useState([]);\n\n  //TASK MANAGEMENT\n\n  useEffect(() => {\n    const getTasks = async () => {\n      const tasksFromServer = await fetchTasks();\n      setTasks(tasksFromServer);\n    };\n\n    getTasks();\n  }, []);\n\n  const fetchTasks = async () => {\n    const res = await fetch(\"http://localhost:5000/tasks\");\n    const data = await res.json();\n\n    return data;\n  };\n\n  const fetchTask = async (id) => {\n    const res = await fetch(`http://localhost:5000/tasks/${id}`);\n    const data = await res.json();\n\n    return data;\n  };\n\n  const deleteTask = async (id) => {\n    await fetch(`http://localhost:5000/tasks/${id}`, { method: \"DELETE\" });\n\n    setTasks(tasks.filter((task) => task.id !== id));\n  };\n\n  const addTask = async (task) => {\n    const res = await fetch(\"http://localhost:5000/tasks\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(task),\n    });\n\n    const data = await res.json();\n\n    setTasks([...tasks, data]);\n  };\n\n  const editTask = async (id) => {\n    var today = new Date();\n    const taskToEdit = await fetchTask(id);\n    const name = prompt(\"Enter a new name for the task\");\n    const date = prompt(\n      \"Enter a new date for the task\",\n      `${today.getFullYear()}-0${today.getMonth() + 1}-${today.getDate()}`\n    );\n\n    const updTask = { ...taskToEdit, title: name, date: date };\n    const res = await fetch(`http://localhost:5000/tasks/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(updTask),\n    });\n\n    const data = await res.json();\n\n    setTasks(\n      tasks.map((task) =>\n        task.id === id ? { ...task, title: data.title, date: data.date } : task\n      )\n    );\n  };\n\n  const toggleCompleted = async (id) => {\n    const taskToToggle = await fetchTask(id);\n    const updTask = { ...taskToToggle, completed: !taskToToggle.completed };\n    const res = await fetch(`http://localhost:5000/tasks/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(updTask),\n    });\n\n    const data = await res.json();\n\n    setTasks(\n      tasks.map((task) =>\n        task.id === id ? { ...task, completed: data.completed } : task\n      )\n    );\n  };\n\n  //FOLDER MANAGEMENT\n\n  useEffect(() => {\n    const getFolders = async () => {\n      const foldersFromServer = await fetchFolders();\n      setFolders(foldersFromServer);\n    };\n\n    getFolders();\n  }, []);\n\n  const fetchFolders = async () => {\n    const res = await fetch(\"http://localhost:5000/folders\");\n    const data = await res.json();\n\n    return data;\n  };\n\n  const fetchFolder = async (id) => {\n    const res = await fetch(`http://localhost:5000/folders/${id}`);\n    const data = await res.json();\n\n    return data;\n  };\n\n  const addFolder = async (folder) => {\n    const res = await fetch(\"http://localhost:5000/folders\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(folder),\n    });\n\n    const data = await res.json();\n\n    setFolders([...folders, data]);\n  };\n\n  const deleteFolder = async (id) => {\n    await fetch(`http://localhost:5000/folders/${id}`, { method: \"DELETE\" });\n\n    setFolders(folders.filter((folder) => folder.id !== id));\n  };\n\n  const editFolder = async (id) => {\n    const folderToEdit = await fetchFolder(id);\n    const name = prompt(\"Enter a new name for the folder\");\n    const updFolder = { ...folderToEdit, title: name };\n    const res = await fetch(`http://localhost:5000/folders/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(updFolder),\n    });\n\n    const data = await res.json();\n\n    setFolders(\n      folders.map((folder) =>\n        folder.id === id ? { ...folder, title: data.title } : folder\n      )\n    );\n  };\n\n  //FORM CONTROL\n\n  const addType = () => {\n    if (document.getElementsByTagName(\"select\").length === 0) {\n      const header = document.getElementById(\"header\");\n      var select = document.createElement(\"select\");\n      select.className = \"select\";\n      select.innerHTML = `<option value=\"task\" selected>Task</option>\n    <option value=\"folder\">Folder</option>`;\n      header.append(select);\n\n      select.addEventListener(\"change\", () => {\n        if (select.value === \"task\") {\n          setShowForm(!showForm);\n          setShowAltForm(showAltForm);\n        } else {\n          setShowForm(showForm);\n          setShowAltForm(!showAltForm);\n        }\n      });\n    } else {\n      select = document.querySelector(\".select\");\n    }\n\n    if (select.value === \"task\") {\n      setShowForm(!showForm);\n    } else {\n      setShowAltForm(!showAltForm);\n    }\n\n    if (showForm || showAltForm) {\n      select.style.display = \"none\";\n    } else {\n      select.style.display = \"block\";\n    }\n  };\n\n  const addForm = () => {\n    setShowForm(!showForm);\n  };\n\n  return (\n    <div className=\"container\">\n      <Route\n        path=\"/\"\n        exact\n        render={(props) => (\n          <>\n            <Header\n              onAdd={addType}\n              showForm={showForm}\n              showAltForm={showAltForm}\n            />\n            {showForm && <Form onAdd={addTask} />}\n            {showAltForm && <AltForm onAdd={addFolder} />}\n            {folders.length > 0 && (\n              <Folders\n                folders={folders}\n                onDelete={deleteFolder}\n                onEdit={editFolder}\n              />\n            )}\n            {tasks.length > 0 ? (\n              <Tasks\n                tasks={tasks}\n                onDelete={deleteTask}\n                onToggle={toggleCompleted}\n                onEdit={editTask}\n              />\n            ) : (\n              \"Add a task to start!\"\n            )}\n          </>\n        )}\n      />\n\n      {location.pathname !== \"/\" && (\n        <Header onAdd={addForm} showForm={showForm} />\n      )}\n\n      {location.pathname !== \"/\" && showForm && <Form onAdd={addTask} />}\n\n      {location.pathname !== \"/\" && (\n        <Tasks\n          tasks={tasks}\n          onDelete={deleteTask}\n          onToggle={toggleCompleted}\n          onEdit={editTask}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}